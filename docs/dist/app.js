/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/GUI.js":
/*!*******************!*
  !*** ./js/GUI.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GUI\": () => /* binding */ GUI\n/* harmony export */ });\nclass GUI {\r\n    constructor() {\r\n        this._fps = new Stats();\r\n        this._frameRenderDuration = new Stats();\r\n        this._memory = new Stats();\r\n        this._datGUI = new dat.GUI({\r\n            // autoPlace: false,\r\n            hideable: false\r\n            // width: 300\r\n        });\r\n        this._datData = {\r\n            add: () => { },\r\n            remove: () => { },\r\n            numToAdd: 0,\r\n            // numTotal: 0,\r\n            physicsStepComputeTime: 0\r\n        };\r\n        this._shouldUpdatePhysicsStepComputeTime = false;\r\n        document.body.appendChild(this._fps.dom);\r\n        this._fps.dom.style.cssText = 'position:absolute;top:0px;left:0px;z-index:4';\r\n        this._fps.showPanel(0);\r\n        document.body.appendChild(this._frameRenderDuration.dom);\r\n        this._frameRenderDuration.dom.style.cssText = 'position:absolute;top:0px;left:80px;z-index:4';\r\n        this._frameRenderDuration.showPanel(1);\r\n        document.body.appendChild(this._memory.dom);\r\n        this._memory.dom.style.cssText = 'position:absolute;top:0px;left:160px;z-index:4';\r\n        this._memory.showPanel(2);\r\n        this._datGUI.domElement.style.cssText = 'position:absolute;top:0px;right:0px;z-index:4';\r\n        setInterval(() => {\r\n            this._shouldUpdatePhysicsStepComputeTime = true;\r\n        }, 500);\r\n    }\r\n    get datData() {\r\n        return this._datData;\r\n    }\r\n    // updateDatData(add?: () => void, remove?: () => void, numToAdd?: number, numTotal?: number, physicsStepComputeTime?: number): void {\r\n    //   this._datData.add = add ?? this._datData.add;\r\n    //   this._datData.remove = remove ?? this._datData.remove;\r\n    //   this._datData.numToAdd = numToAdd ?? this._datData.numToAdd;\r\n    //   this._datData.numTotal = numTotal ?? this._datData.numTotal;\r\n    //   this._datData.physicsStepComputeTime = physicsStepComputeTime ?? this._datData.physicsStepComputeTime;\r\n    // }\r\n    init() {\r\n        const folder = this._datGUI.addFolder('Folder');\r\n        folder.open();\r\n        folder.add(this._datData, 'add').name('Click to add');\r\n        folder.add(this._datData, 'remove').name('Click to remove all');\r\n        folder.add(this._datData, 'numToAdd', 0, 1000, 100).name('# to add').step(1).listen();\r\n        // folder.add(this._datData, 'numTotal').name('# total').step(1).listen();\r\n        folder.add(this._datData, 'physicsStepComputeTime').name('Physics').step(1e-2).listen();\r\n    }\r\n    update() {\r\n        this._fps.update();\r\n        this._frameRenderDuration.update();\r\n        this._memory.update();\r\n    }\r\n    updatePhysicsStepComputeTime(physicsStepComputeTime) {\r\n        if (this._shouldUpdatePhysicsStepComputeTime) {\r\n            this._datData.physicsStepComputeTime = physicsStepComputeTime;\r\n            this._shouldUpdatePhysicsStepComputeTime = false;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=GUI.js.map\n\n//# sourceURL=webpack:///./js/GUI.js?");

/***/ }),

/***/ "./js/NoWorker.js":
/*!************************!*
  !*** ./js/NoWorker.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoWorker\": () => /* binding */ NoWorker\n/* harmony export */ });\n/* harmony import */ var _Physics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Physics */ \"./js/Physics.js\");\n/* harmony import */ var _GUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GUI */ \"./js/GUI.js\");\n/* harmony import */ var _babylonHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./babylonHelper */ \"./js/babylonHelper.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./js/utils.js\");\n\r\n\r\n\r\n\r\nclass NoWorker {\r\n    constructor() {\r\n        this._canvas = document.getElementById('renderCanvas');\r\n        this._engine = new BABYLON.Engine(this._canvas);\r\n        this._scene = new BABYLON.Scene(this._engine);\r\n        this._camera = new BABYLON.ArcRotateCamera('', 0, Math.PI / 4, 100, new BABYLON.Vector3(), this._scene);\r\n        this._light = new BABYLON.HemisphericLight('', new BABYLON.Vector3(0, 100, 0), this._scene);\r\n        this._gui = new _GUI__WEBPACK_IMPORTED_MODULE_1__.GUI();\r\n        // private _physics = new Physics(this._gui);\r\n        this._physics = new _Physics__WEBPACK_IMPORTED_MODULE_0__.Physics();\r\n        this._instancedMeshes = new Array();\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('NoWorker', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n        this.setupCamera();\r\n        this.loadEnvironment();\r\n        this.setupGUI();\r\n        (0,_babylonHelper__WEBPACK_IMPORTED_MODULE_2__.loadAxes)(this._scene);\r\n        this._physics.onPhysicsUpdate = motionStates => {\r\n            // const { numToAdd } = this._gui.datData;\r\n            // for (let i = 0; i < numToAdd; i++) {\r\n            for (const [i, motionState] of motionStates.entries()) {\r\n                // const motionState = motionStates[i];\r\n                if (motionState === undefined) {\r\n                    break;\r\n                }\r\n                const { position, rotation } = motionState;\r\n                const instancedMesh = this._instancedMeshes[i];\r\n                if (instancedMesh.rotationQuaternion === undefined) {\r\n                    instancedMesh.rotationQuaternion = new BABYLON.Quaternion();\r\n                }\r\n                instancedMesh.position.set(position.x, position.y, position.z);\r\n                instancedMesh.rotationQuaternion?.set(rotation.x, rotation.y, rotation.z, rotation.w);\r\n            }\r\n        };\r\n        this._scene.registerBeforeRender(() => {\r\n            this._physics.onRenderUpdate(this._engine.getDeltaTime() / 1000);\r\n        });\r\n        this._engine.runRenderLoop(() => {\r\n            this._scene.render();\r\n            this._gui.update();\r\n        });\r\n        window.onresize = () => {\r\n            this._engine.resize();\r\n        };\r\n    }\r\n    setupCamera() {\r\n        this._camera.keysUp = [];\r\n        this._camera.keysLeft = [];\r\n        this._camera.keysDown = [];\r\n        this._camera.keysRight = [];\r\n        this._camera.attachControl(this._canvas, false);\r\n        this._camera.setTarget(new BABYLON.Vector3(0, 10, 0));\r\n    }\r\n    loadEnvironment() {\r\n        const ground = BABYLON.MeshBuilder.CreateBox('', { width: 50, height: 1, depth: 50 }, this._scene);\r\n        const groundMaterial = new BABYLON.StandardMaterial('', this._scene);\r\n        groundMaterial.diffuseColor = new BABYLON.Color3(0.5, 0.5, 0.5);\r\n        groundMaterial.freeze();\r\n        ground.material = groundMaterial;\r\n        ground.position.y -= 0.5;\r\n        ground.freezeWorldMatrix();\r\n        const slide = BABYLON.MeshBuilder.CreateBox('', { width: 10, height: 1, depth: 20 }, this._scene);\r\n        const slideMaterial = new BABYLON.StandardMaterial('', this._scene);\r\n        slideMaterial.diffuseColor = new BABYLON.Color3(1, 0, 0);\r\n        slideMaterial.freeze();\r\n        slide.material = slideMaterial;\r\n        slide.position.x -= 10;\r\n        slide.rotationQuaternion = new BABYLON.Vector3(-Math.PI / 6, 0, 0).toQuaternion();\r\n        slide.freezeWorldMatrix();\r\n    }\r\n    setupGUI() {\r\n        const mesh = BABYLON.MeshBuilder.CreateBox('', { width: 0.5 }, this._scene);\r\n        const material = new BABYLON.StandardMaterial('', this._scene);\r\n        material.diffuseColor = new BABYLON.Color3(1, 1, 0);\r\n        mesh.material = material;\r\n        this._gui.datData.add = () => {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('Add', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Debug);\r\n            this._gui.datData.remove();\r\n            const { numToAdd } = this._gui.datData;\r\n            for (let i = 0; i < numToAdd; i++) {\r\n                const instancedMesh = mesh.createInstance('');\r\n                instancedMesh.rotationQuaternion = new BABYLON.Quaternion();\r\n                this._instancedMeshes[i] = instancedMesh;\r\n            }\r\n            // this._physics.add();\r\n            this._physics.add(numToAdd);\r\n        };\r\n        this._gui.datData.remove = () => {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('Remove', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Debug);\r\n            this._instancedMeshes.forEach(instancedMesh => {\r\n                instancedMesh.dispose();\r\n            });\r\n            this._physics.remove();\r\n        };\r\n        this._gui.datData.numToAdd = 500;\r\n        // this._gui.datData.numTotal = 0;\r\n        this._gui.datData.physicsStepComputeTime = 0;\r\n        this._gui.init();\r\n        mesh.setEnabled(false);\r\n    }\r\n}\r\n//# sourceMappingURL=NoWorker.js.map\n\n//# sourceURL=webpack:///./js/NoWorker.js?");

/***/ }),

/***/ "./js/NoWorkerBabylon.js":
/*!*******************************!*
  !*** ./js/NoWorkerBabylon.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoWorkerBabylon\": () => /* binding */ NoWorkerBabylon\n/* harmony export */ });\n/* harmony import */ var _physicsHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./physicsHelper */ \"./js/physicsHelper.js\");\n/* harmony import */ var _GUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GUI */ \"./js/GUI.js\");\n/* harmony import */ var _babylonHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./babylonHelper */ \"./js/babylonHelper.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./js/utils.js\");\n\r\n\r\n\r\n\r\nclass NoWorkerBabylon {\r\n    constructor() {\r\n        this._canvas = document.getElementById('renderCanvas');\r\n        this._engine = new BABYLON.Engine(this._canvas, true, {\r\n            deterministicLockstep: true,\r\n            lockstepMaxSteps: 4\r\n        });\r\n        this._scene = new BABYLON.Scene(this._engine);\r\n        this._camera = new BABYLON.ArcRotateCamera('', 0, Math.PI / 4, 100, new BABYLON.Vector3(), this._scene);\r\n        this._light = new BABYLON.HemisphericLight('', new BABYLON.Vector3(0, 100, 0), this._scene);\r\n        this._gui = new _GUI__WEBPACK_IMPORTED_MODULE_1__.GUI();\r\n        this._instancedMeshes = new Array();\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('NoWorker', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n        this.setupCamera();\r\n        this.setupPhysics();\r\n        (0,_babylonHelper__WEBPACK_IMPORTED_MODULE_2__.loadAxes)(this._scene);\r\n        this._engine.runRenderLoop(() => {\r\n            this._scene.render();\r\n            this._gui.update();\r\n        });\r\n        window.onresize = () => {\r\n            this._engine.resize();\r\n        };\r\n    }\r\n    setupCamera() {\r\n        this._camera.keysUp = [];\r\n        this._camera.keysLeft = [];\r\n        this._camera.keysDown = [];\r\n        this._camera.keysRight = [];\r\n        this._camera.attachControl(this._canvas, false);\r\n        this._camera.setTarget(new BABYLON.Vector3(0, 10, 0));\r\n    }\r\n    async setupPhysics() {\r\n        try {\r\n            if (typeof Ammo === 'function') {\r\n                await Ammo();\r\n            }\r\n            const physEngine = new BABYLON.AmmoJSPlugin(false);\r\n            this._scene.enablePhysics(new BABYLON.Vector3(0, _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.GRAVITY, 0), physEngine);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`_engine.isDeterministicLockStep(): ${this._engine.isDeterministicLockStep()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`_engine.getLockstepMaxSteps(): ${this._engine.getLockstepMaxSteps()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`_engine.getTimeStep(): ${this._engine.getTimeStep()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`physEngine.getTimeStep(): ${physEngine.getTimeStep()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`_scene.getPhysicsEngine()?.getTimeStep(): ${this._scene.getPhysicsEngine()?.getTimeStep()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`_scene.getPhysicsEngine()?.getSubTimeStep(): ${this._scene.getPhysicsEngine()?.getSubTimeStep()}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\n            this.loadEnvironment();\r\n            this.setupGUI();\r\n        }\r\n        catch (err) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('setupPhysics(): err', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Fatal, err);\r\n        }\r\n    }\r\n    loadEnvironment() {\r\n        const ground = BABYLON.MeshBuilder.CreateBox('', { width: 50, height: 1, depth: 50 }, this._scene);\r\n        const groundMaterial = new BABYLON.StandardMaterial('', this._scene);\r\n        groundMaterial.diffuseColor = new BABYLON.Color3(0.5, 0.5, 0.5);\r\n        groundMaterial.freeze();\r\n        ground.material = groundMaterial;\r\n        ground.position.y -= 0.5;\r\n        ground.freezeWorldMatrix();\r\n        ground.physicsImpostor = new BABYLON.PhysicsImpostor(ground, BABYLON.PhysicsImpostor.BoxImpostor, {\r\n            mass: 0,\r\n            friction: 1,\r\n            restitution: 0.5,\r\n            // @ts-ignore\r\n            group: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Environment,\r\n            mask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Environment\r\n        }, this._scene);\r\n        ground.physicsImpostor.physicsBody.setActivationState(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION);\r\n        ground.physicsImpostor.physicsBody.setCollisionFlags(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFlag.CF_STATIC_OBJECT);\r\n        const slide = BABYLON.MeshBuilder.CreateBox('', { width: 10, height: 1, depth: 20 }, this._scene);\r\n        const slideMaterial = new BABYLON.StandardMaterial('', this._scene);\r\n        slideMaterial.diffuseColor = new BABYLON.Color3(1, 0, 0);\r\n        slideMaterial.freeze();\r\n        slide.material = slideMaterial;\r\n        slide.position.x -= 10;\r\n        slide.rotationQuaternion = new BABYLON.Vector3(-Math.PI / 6, 0, 0).toQuaternion();\r\n        slide.freezeWorldMatrix();\r\n        slide.physicsImpostor = new BABYLON.PhysicsImpostor(slide, BABYLON.PhysicsImpostor.BoxImpostor, {\r\n            mass: 0,\r\n            friction: 1,\r\n            restitution: 0.5,\r\n            // @ts-ignore\r\n            group: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Environment,\r\n            mask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Environment\r\n        }, this._scene);\r\n        slide.physicsImpostor.physicsBody.setActivationState(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION);\r\n        slide.physicsImpostor.physicsBody.setCollisionFlags(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFlag.CF_STATIC_OBJECT);\r\n    }\r\n    setupGUI() {\r\n        const mesh = BABYLON.MeshBuilder.CreateBox('', { width: 0.5 }, this._scene);\r\n        const material = new BABYLON.StandardMaterial('', this._scene);\r\n        material.diffuseColor = new BABYLON.Color3(1, 1, 0);\r\n        mesh.material = material;\r\n        this._gui.datData.add = () => {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('Add', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Debug);\r\n            this._gui.datData.remove();\r\n            const { numToAdd } = this._gui.datData;\r\n            this._instancedMeshes = new Array(numToAdd);\r\n            for (let i = 0; i < numToAdd; i++) {\r\n                const instancedMesh = mesh.createInstance('');\r\n                instancedMesh.position = new BABYLON.Vector3(BABYLON.Scalar.RandomRange(-10, 10), 50, BABYLON.Scalar.RandomRange(-10, 10));\r\n                instancedMesh.rotationQuaternion = new BABYLON.Vector3(BABYLON.Scalar.RandomRange(-Math.PI, Math.PI), BABYLON.Scalar.RandomRange(-Math.PI, Math.PI), BABYLON.Scalar.RandomRange(-Math.PI, Math.PI)).toQuaternion();\r\n                instancedMesh.physicsImpostor = new BABYLON.PhysicsImpostor(instancedMesh, BABYLON.PhysicsImpostor.BoxImpostor, {\r\n                    mass: 1,\r\n                    friction: 1,\r\n                    restitution: 0.5,\r\n                    // @ts-ignore\r\n                    group: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Other,\r\n                    mask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Other\r\n                }, this._scene);\r\n                instancedMesh.physicsImpostor.physicsBody.setActivationState(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION);\r\n                this._instancedMeshes[i] = instancedMesh;\r\n            }\r\n        };\r\n        this._gui.datData.remove = () => {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)('Remove', _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Debug);\r\n            this._instancedMeshes.forEach(instancedMesh => {\r\n                instancedMesh.physicsImpostor?.dispose();\r\n                instancedMesh.dispose();\r\n            });\r\n        };\r\n        this._gui.datData.numToAdd = 500;\r\n        // this._gui.datData.numTotal = 0;\r\n        this._gui.datData.physicsStepComputeTime = 0;\r\n        this._gui.init();\r\n        mesh.setEnabled(false);\r\n        let beforeStepTime = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.now)();\r\n        this._scene.onBeforeStepObservable.add(() => {\r\n            const current = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.now)();\r\n            const betweenStepsDuration = current - beforeStepTime;\r\n            beforeStepTime = current;\r\n        });\r\n        this._scene.onAfterStepObservable.add(() => {\r\n            const current = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.now)();\r\n            const stepDuration = current - beforeStepTime;\r\n            this._gui.updatePhysicsStepComputeTime(stepDuration);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=NoWorkerBabylon.js.map\n\n//# sourceURL=webpack:///./js/NoWorkerBabylon.js?");

/***/ }),

/***/ "./js/Physics.js":
/*!***********************!*
  !*** ./js/Physics.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Physics\": () => /* binding */ Physics\n/* harmony export */ });\n/* harmony import */ var _physicsHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./physicsHelper */ \"./js/physicsHelper.js\");\n/* harmony import */ var _RigidBody__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RigidBody */ \"./js/RigidBody.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./js/utils.js\");\n\r\n\r\n\r\nlet tempData;\r\nlet tempResult;\r\nclass Physics {\r\n    // constructor(private _gui: GUI) {\r\n    constructor(wasmPath) {\r\n        this._fixedTimeStep = 1 / 60;\r\n        this._accumulator = 0;\r\n        this._maxSteps = 4; // max physics steps per frame render (WARNING: physics can slow down at low frame rates)\r\n        this._maxSubSteps = 5; // max physics steps per stepSimulation() call\r\n        this._onPhysicsUpdate = (motionStates) => { };\r\n        this._rigidBodies = new Array();\r\n        this._motionStates = new Array();\r\n        this._didAdd = false;\r\n        this.init(wasmPath);\r\n    }\r\n    set onPhysicsUpdate(onPhysicsUpdate) {\r\n        this._onPhysicsUpdate = onPhysicsUpdate;\r\n    }\r\n    async init(wasmPath) {\r\n        try {\r\n            if (typeof Ammo === 'function') {\r\n                if (wasmPath !== undefined) {\r\n                    await Ammo({\r\n                        locateFile: () => wasmPath\r\n                    });\r\n                }\r\n                else {\r\n                    await Ammo();\r\n                }\r\n            }\r\n            tempData = {\r\n                btVector3A: new Ammo.btVector3(0, 0, 0),\r\n                btVector3B: new Ammo.btVector3(0, 0, 0),\r\n                btTransformA: new Ammo.btTransform(),\r\n                btQuaternionA: new Ammo.btQuaternion(0, 0, 0, 1)\r\n            };\r\n            tempResult = {\r\n                concreteContactResultCallback: new Ammo.ConcreteContactResultCallback(),\r\n                concreteContactPosition: new Ammo.btVector3(0, 0, 0),\r\n                concreteContactResult: false,\r\n                closestRayResultCallback: new Ammo.ClosestRayResultCallback(tempData.btVector3A, tempData.btVector3B)\r\n            };\r\n            const collisionConfiguration = new Ammo.btDefaultCollisionConfiguration();\r\n            const dispatcher = new Ammo.btCollisionDispatcher(collisionConfiguration);\r\n            const overlappingPairCache = new Ammo.btDbvtBroadphase();\r\n            const solver = new Ammo.btSequentialImpulseConstraintSolver();\r\n            this._dynamicsWorld = new Ammo.btDiscreteDynamicsWorld(dispatcher, overlappingPairCache, solver, collisionConfiguration);\r\n            const { btVector3A } = tempData;\r\n            btVector3A.setValue(0, _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.GRAVITY, 0);\r\n            this._dynamicsWorld.setGravity(btVector3A);\r\n            this.setupCallbacks();\r\n            this.loadEnvironment();\r\n        }\r\n        catch (err) {\r\n            console.log('init(): err', err);\r\n            // clog('init(): err', LogLevel.Fatal, err);\r\n        }\r\n    }\r\n    setupCallbacks() {\r\n        const { concreteContactResultCallback, concreteContactPosition } = tempResult;\r\n        concreteContactResultCallback.addSingleResult = (cp, colObj0Wrap, partId0, index0, colObj1Wrap, partId1, index1) => {\r\n            // @ts-ignore\r\n            const contactPoint = Ammo.wrapPointer(cp, Ammo.btManifoldPoint);\r\n            const distance = contactPoint.getDistance();\r\n            if (distance > 0) {\r\n                (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)(`concreteContactResultCallback.addSingleResult(): distance ${distance} > 0`, _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warn);\r\n                return 0;\r\n            }\r\n            // @ts-ignore\r\n            const colObj0 = Ammo.wrapPointer(colObj0Wrap, Ammo.btCollisionObjectWrapper);\r\n            // @ts-ignore\r\n            const rb0 = Ammo.castObject(colObj0.getCollisionObject(), Ammo.btRigidBody);\r\n            // @ts-ignore\r\n            const colObj1 = Ammo.wrapPointer(colObj1Wrap, Ammo.btCollisionObjectWrapper);\r\n            // @ts-ignore\r\n            const rb1 = Ammo.castObject(colObj1.getCollisionObject(), Ammo.btRigidBody);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('concreteContactResultCallback.addSingleResult(): colObj0, rb0', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug, colObj0, rb0);\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('concreteContactResultCallback.addSingleResult(): colObj1, rb1', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug, colObj1, rb1);\r\n            const worldPosition = contactPoint.getPositionWorldOnA();\r\n            concreteContactPosition.setValue(worldPosition.x(), worldPosition.y(), worldPosition.z());\r\n            tempResult.concreteContactResult = true;\r\n            return 0; // unused return value (https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=5982)\r\n        };\r\n    }\r\n    loadEnvironment() {\r\n        if (this._dynamicsWorld === undefined) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('loadEnvironment(): _dynamicsWorld === undefined', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error);\r\n            return;\r\n        }\r\n        // Ground\r\n        const { btVector3A, btQuaternionA } = tempData;\r\n        btVector3A.setValue(25, 0.5, 25);\r\n        const groundShape = new Ammo.btBoxShape(btVector3A);\r\n        btVector3A.setValue(0, -0.5, 0);\r\n        btQuaternionA.setValue(0, 0, 0, 1);\r\n        const ground = new _RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBody(groundShape, btVector3A, btQuaternionA, {\r\n            mass: 0,\r\n            friction: 1,\r\n            restitution: 0.5,\r\n            activationState: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION,\r\n            collisionFlag: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFlag.CF_STATIC_OBJECT,\r\n            collisionFilterGroup: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Environment,\r\n            collisionFilterMask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Environment\r\n        });\r\n        ground.add(this._dynamicsWorld);\r\n        // Slide\r\n        btVector3A.setValue(5, 0.5, 10);\r\n        const slideShape = new Ammo.btBoxShape(btVector3A);\r\n        btVector3A.setValue(-10, 0, 0);\r\n        btQuaternionA.setEulerZYX(0, 0, -Math.PI / 6);\r\n        const slide = new _RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBody(slideShape, btVector3A, btQuaternionA, {\r\n            mass: 0,\r\n            friction: 1,\r\n            restitution: 0.5,\r\n            activationState: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION,\r\n            collisionFlag: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFlag.CF_STATIC_OBJECT,\r\n            collisionFilterGroup: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Environment,\r\n            collisionFilterMask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Environment\r\n        });\r\n        slide.add(this._dynamicsWorld);\r\n    }\r\n    add(numToAdd) {\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('add()', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug);\r\n        if (this._dynamicsWorld === undefined) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('add(): _dynamicsWorld === undefined', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error);\r\n            return;\r\n        }\r\n        const { btVector3A, btQuaternionA } = tempData;\r\n        btVector3A.setValue(0.25, 0.5, 0.5);\r\n        const colShape = new Ammo.btBoxShape(btVector3A);\r\n        // const { numToAdd } = this._gui.datData;\r\n        this._rigidBodies = new Array(numToAdd);\r\n        this._motionStates = new Array(numToAdd);\r\n        for (let i = 0; i < numToAdd; i++) {\r\n            btVector3A.setValue((0,_utils__WEBPACK_IMPORTED_MODULE_2__.randomRange)(-10, 10), 50, (0,_utils__WEBPACK_IMPORTED_MODULE_2__.randomRange)(-10, 10));\r\n            btQuaternionA.setEulerZYX((0,_utils__WEBPACK_IMPORTED_MODULE_2__.randomRange)(-Math.PI, Math.PI), (0,_utils__WEBPACK_IMPORTED_MODULE_2__.randomRange)(-Math.PI, Math.PI), (0,_utils__WEBPACK_IMPORTED_MODULE_2__.randomRange)(-Math.PI, Math.PI));\r\n            const box = new _RigidBody__WEBPACK_IMPORTED_MODULE_1__.RigidBody(colShape, btVector3A, btQuaternionA, {\r\n                mass: 1,\r\n                friction: 1,\r\n                restitution: 0.5,\r\n                activationState: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.ActivationState.DISABLE_DEACTIVATION,\r\n                collisionFilterGroup: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterGroup.Other,\r\n                collisionFilterMask: _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.CollisionFilterMask.Other\r\n            });\r\n            box.add(this._dynamicsWorld);\r\n            this._rigidBodies[i] = box;\r\n        }\r\n        this._didAdd = true;\r\n    }\r\n    remove() {\r\n        if (this._dynamicsWorld === undefined) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('remove(): _dynamicsWorld === undefined', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error);\r\n            return;\r\n        }\r\n        for (const rigidBody of this._rigidBodies) {\r\n            rigidBody.remove(this._dynamicsWorld);\r\n            rigidBody.destroy();\r\n        }\r\n        this._rigidBodies = [];\r\n        this._motionStates = [];\r\n        this._didAdd = false;\r\n    }\r\n    // https://gafferongames.com/post/fix_your_timestep/\r\n    onRenderUpdate(deltaTime) {\r\n        if (this._dynamicsWorld === undefined) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('onRenderUpdate(): _dynamicsWorld === undefined', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warn);\r\n            return;\r\n        }\r\n        deltaTime = Math.max(_physicsHelper__WEBPACK_IMPORTED_MODULE_0__.MIN_DELTA_TIME, Math.min(deltaTime, _physicsHelper__WEBPACK_IMPORTED_MODULE_0__.MAX_DELTA_TIME));\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)(`onRenderUpdate(): deltaTime: ${deltaTime}`, _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug);\r\n        this._accumulator += deltaTime;\r\n        const { btTransformA } = tempData;\r\n        let stepNum = 0;\r\n        while (this._accumulator >= this._fixedTimeStep && stepNum < this._maxSteps) {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)(`stepNum: ${stepNum}`, _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug);\r\n            const beforeStepTime = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.now)();\r\n            this._dynamicsWorld.stepSimulation(this._fixedTimeStep, this._maxSubSteps);\r\n            // clog('onRenderUpdate(): stepSimulation', LogLevel.Debug);\r\n            if (this._didAdd) {\r\n                // const { numToAdd } = this._gui.datData;\r\n                // for (let i = 0; i < numToAdd; i++) {\r\n                for (const [i, rigidBody] of this._rigidBodies.entries()) {\r\n                    // const rigidBody = this._rigidBodies[i];\r\n                    if (rigidBody === undefined) {\r\n                        break;\r\n                    }\r\n                    const motionState = rigidBody.getMotionState();\r\n                    if (motionState) {\r\n                        motionState.getWorldTransform(btTransformA);\r\n                        const p = btTransformA.getOrigin();\r\n                        const q = btTransformA.getRotation();\r\n                        this._motionStates[i] = {\r\n                            position: {\r\n                                x: p.x(),\r\n                                y: p.y(),\r\n                                z: p.z()\r\n                            },\r\n                            rotation: {\r\n                                x: q.x(),\r\n                                y: q.y(),\r\n                                z: q.z(),\r\n                                w: q.w()\r\n                            }\r\n                        };\r\n                    }\r\n                    else {\r\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('onRenderUpdate(): !motionState', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error);\r\n                    }\r\n                    // const p = this._rigidBodies[i].getOrigin();\r\n                    // const q = this._rigidBodies[i].getRotation();\r\n                    // this._motionStates[i] = {\r\n                    //   position: {\r\n                    //     x: p.x(),\r\n                    //     y: p.y(),\r\n                    //     z: p.z()\r\n                    //   },\r\n                    //   rotation: {\r\n                    //     x: q.x(),\r\n                    //     y: q.y(),\r\n                    //     z: q.z(),\r\n                    //     w: q.w()\r\n                    //   }\r\n                    // };\r\n                }\r\n                this._onPhysicsUpdate([...this._motionStates]);\r\n            }\r\n            // this._gui.updatePhysicsStepComputeTime(now() - beforeStepTime);\r\n            this._accumulator -= this._fixedTimeStep;\r\n            stepNum++;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Physics.js.map\n\n//# sourceURL=webpack:///./js/Physics.js?");

/***/ }),

/***/ "./js/RigidBody.js":
/*!*************************!*
  !*** ./js/RigidBody.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RigidBody\": () => /* binding */ RigidBody\n/* harmony export */ });\nclass RigidBody {\r\n    // position and rotation are temporary btVector3 for initial placement\r\n    constructor(_colShape, position, rotation, _options) {\r\n        this._colShape = _colShape;\r\n        this._options = _options;\r\n        this._transform = new Ammo.btTransform();\r\n        this._localInertia = new Ammo.btVector3(0, 0, 0);\r\n        const { mass, friction, restitution, activationState, collisionFlag } = this._options;\r\n        this._transform.setIdentity();\r\n        this._transform.setOrigin(position);\r\n        this._transform.setRotation(rotation);\r\n        this._motionState = new Ammo.btDefaultMotionState(this._transform);\r\n        if (mass !== 0) {\r\n            this._colShape.calculateLocalInertia(mass, this._localInertia);\r\n        }\r\n        this._rbInfo = new Ammo.btRigidBodyConstructionInfo(mass, this._motionState, this._colShape, this._localInertia);\r\n        this._rigidBody = new Ammo.btRigidBody(this._rbInfo);\r\n        if (friction !== undefined) {\r\n            this._rigidBody.setFriction(friction);\r\n        }\r\n        if (restitution !== undefined) {\r\n            this._rigidBody.setRestitution(restitution);\r\n        }\r\n        if (activationState !== undefined) {\r\n            this._rigidBody.setActivationState(activationState);\r\n        }\r\n        if (collisionFlag !== undefined) {\r\n            this._rigidBody.setCollisionFlags(collisionFlag);\r\n        }\r\n    }\r\n    getMotionState() {\r\n        return this._rigidBody.getMotionState();\r\n    }\r\n    getOrigin() {\r\n        return this._rigidBody.getWorldTransform().getOrigin();\r\n    }\r\n    getRotation() {\r\n        return this._rigidBody.getWorldTransform().getRotation();\r\n    }\r\n    add(dynamicsWorld) {\r\n        const { collisionFilterGroup, collisionFilterMask } = this._options;\r\n        if (collisionFilterGroup !== undefined && collisionFilterMask !== undefined) {\r\n            dynamicsWorld.addRigidBody(this._rigidBody, collisionFilterGroup, collisionFilterMask);\r\n        }\r\n        else {\r\n            dynamicsWorld.addRigidBody(this._rigidBody);\r\n        }\r\n    }\r\n    remove(dynamicsWorld) {\r\n        dynamicsWorld.removeRigidBody(this._rigidBody);\r\n    }\r\n    destroy() {\r\n        Ammo.destroy(this._rigidBody);\r\n        Ammo.destroy(this._rbInfo);\r\n        Ammo.destroy(this._motionState);\r\n        Ammo.destroy(this._transform);\r\n        Ammo.destroy(this._localInertia);\r\n    }\r\n}\r\n//# sourceMappingURL=RigidBody.js.map\n\n//# sourceURL=webpack:///./js/RigidBody.js?");

/***/ }),

/***/ "./js/WithWorker.js":
/*!**************************!*
  !*** ./js/WithWorker.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WithWorker\": () => /* binding */ WithWorker\n/* harmony export */ });\n/* harmony import */ var _babylonHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./babylonHelper */ \"./js/babylonHelper.js\");\n/* harmony import */ var _GUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GUI */ \"./js/GUI.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./js/utils.js\");\n\r\n\r\n\r\nclass WithWorker {\r\n    constructor() {\r\n        this._canvas = document.getElementById('renderCanvas');\r\n        this._engine = new BABYLON.Engine(this._canvas);\r\n        this._scene = new BABYLON.Scene(this._engine);\r\n        this._camera = new BABYLON.ArcRotateCamera('', 0, Math.PI / 4, 100, new BABYLON.Vector3(), this._scene);\r\n        this._light = new BABYLON.HemisphericLight('', new BABYLON.Vector3(0, 100, 0), this._scene);\r\n        this._gui = new _GUI__WEBPACK_IMPORTED_MODULE_1__.GUI();\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clog)('WithWorker', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Info);\r\n        this.setupCamera();\r\n        (0,_babylonHelper__WEBPACK_IMPORTED_MODULE_0__.loadAxes)(this._scene);\r\n        this.setupWorker();\r\n        this._engine.runRenderLoop(() => {\r\n            this._scene.render();\r\n        });\r\n        window.onresize = () => {\r\n            this._engine.resize();\r\n        };\r\n    }\r\n    setupCamera() {\r\n        this._camera.keysUp = [];\r\n        this._camera.keysLeft = [];\r\n        this._camera.keysDown = [];\r\n        this._camera.keysRight = [];\r\n        this._camera.attachControl(this._canvas, false);\r\n        this._camera.setTarget(new BABYLON.Vector3(0, 10, 0));\r\n    }\r\n    setupWorker() {\r\n        this._worker = new Worker('../dist/worker.js');\r\n        this._worker.onmessage = (ev) => {\r\n            (0,_utils__WEBPACK_IMPORTED_MODULE_2__.cblog)('main _worker.onmessage(): ev', _utils__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug, _utils__WEBPACK_IMPORTED_MODULE_2__.LogCategory.Main, ev);\r\n        };\r\n        this._worker.postMessage('hello');\r\n    }\r\n    loadEnvironment() { }\r\n}\r\n//# sourceMappingURL=WithWorker.js.map\n\n//# sourceURL=webpack:///./js/WithWorker.js?");

/***/ }),

/***/ "./js/app.js":
/*!*******************!*
  !*** ./js/app.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _NoWorkerBabylon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NoWorkerBabylon */ \"./js/NoWorkerBabylon.js\");\n/* harmony import */ var _NoWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NoWorker */ \"./js/NoWorker.js\");\n/* harmony import */ var _WithWorker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WithWorker */ \"./js/WithWorker.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./js/utils.js\");\n\r\n\r\n\r\n\r\nconst parts = window.location.pathname.split('/');\r\nconst route = parts.pop() || parts.pop();\r\n(0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`route: ${route}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Info);\r\nswitch (route) {\r\n    case 'noworkerbabylon':\r\n        new _NoWorkerBabylon__WEBPACK_IMPORTED_MODULE_0__.NoWorkerBabylon();\r\n        break;\r\n    case 'noworker':\r\n        new _NoWorker__WEBPACK_IMPORTED_MODULE_1__.NoWorker();\r\n        break;\r\n    case 'withworker':\r\n        new _WithWorker__WEBPACK_IMPORTED_MODULE_2__.WithWorker();\r\n        break;\r\n    default:\r\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.clog)(`Invalid route ${route}`, _utils__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Error);\r\n}\r\n//# sourceMappingURL=app.js.map\n\n//# sourceURL=webpack:///./js/app.js?");

/***/ }),

/***/ "./js/babylonHelper.js":
/*!*****************************!*
  !*** ./js/babylonHelper.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadAxes\": () => /* binding */ loadAxes\n/* harmony export */ });\nfunction loadAxes(scene) {\r\n    const size = 100;\r\n    const axisX = BABYLON.Mesh.CreateLines('axisX', [\r\n        new BABYLON.Vector3(),\r\n        new BABYLON.Vector3(size, 0, 0),\r\n        new BABYLON.Vector3(size * 0.95, 0.05 * size, 0),\r\n        new BABYLON.Vector3(size, 0, 0),\r\n        new BABYLON.Vector3(size * 0.95, -0.05 * size, 0)\r\n    ], scene);\r\n    axisX.isPickable = false;\r\n    axisX.color = new BABYLON.Color3(1, 0, 0);\r\n    const axisY = BABYLON.Mesh.CreateLines('axisY', [\r\n        new BABYLON.Vector3(),\r\n        new BABYLON.Vector3(0, size, 0),\r\n        new BABYLON.Vector3(-0.05 * size, size * 0.95, 0),\r\n        new BABYLON.Vector3(0, size, 0),\r\n        new BABYLON.Vector3(0.05 * size, size * 0.95, 0)\r\n    ], scene);\r\n    axisY.isPickable = false;\r\n    axisY.color = new BABYLON.Color3(0, 1, 0);\r\n    const axisZ = BABYLON.Mesh.CreateLines('axisZ', [\r\n        new BABYLON.Vector3(),\r\n        new BABYLON.Vector3(0, 0, size),\r\n        new BABYLON.Vector3(0, -0.05 * size, size * 0.95),\r\n        new BABYLON.Vector3(0, 0, size),\r\n        new BABYLON.Vector3(0, 0.05 * size, size * 0.95)\r\n    ], scene);\r\n    axisZ.isPickable = false;\r\n    axisZ.color = new BABYLON.Color3(0, 0, 1);\r\n}\r\n//# sourceMappingURL=babylonHelper.js.map\n\n//# sourceURL=webpack:///./js/babylonHelper.js?");

/***/ }),

/***/ "./js/physicsHelper.js":
/*!*****************************!*
  !*** ./js/physicsHelper.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GRAVITY\": () => /* binding */ GRAVITY,\n/* harmony export */   \"MIN_DELTA_TIME\": () => /* binding */ MIN_DELTA_TIME,\n/* harmony export */   \"MAX_DELTA_TIME\": () => /* binding */ MAX_DELTA_TIME,\n/* harmony export */   \"ActivationState\": () => /* binding */ ActivationState,\n/* harmony export */   \"CollisionFlag\": () => /* binding */ CollisionFlag,\n/* harmony export */   \"CollisionFilterGroup\": () => /* binding */ CollisionFilterGroup,\n/* harmony export */   \"CollisionFilterMask\": () => /* binding */ CollisionFilterMask\n/* harmony export */ });\nconst GRAVITY = -9.8;\r\nconst MIN_DELTA_TIME = 1 / 1000;\r\nconst MAX_DELTA_TIME = 1;\r\nvar ActivationState;\r\n(function (ActivationState) {\r\n    ActivationState[ActivationState[\"ACTIVE_TAG\"] = 1] = \"ACTIVE_TAG\";\r\n    ActivationState[ActivationState[\"ISLAND_SLEEPING\"] = 2] = \"ISLAND_SLEEPING\";\r\n    ActivationState[ActivationState[\"WANTS_DEACTIVATION\"] = 3] = \"WANTS_DEACTIVATION\";\r\n    ActivationState[ActivationState[\"DISABLE_DEACTIVATION\"] = 4] = \"DISABLE_DEACTIVATION\";\r\n    ActivationState[ActivationState[\"DISABLE_SIMULATION\"] = 5] = \"DISABLE_SIMULATION\";\r\n})(ActivationState || (ActivationState = {}));\r\n// Kinematic if not specified\r\nvar CollisionFlag;\r\n(function (CollisionFlag) {\r\n    CollisionFlag[CollisionFlag[\"CF_STATIC_OBJECT\"] = 1] = \"CF_STATIC_OBJECT\";\r\n    CollisionFlag[CollisionFlag[\"CF_KINEMATIC_OBJECT\"] = 2] = \"CF_KINEMATIC_OBJECT\";\r\n    CollisionFlag[CollisionFlag[\"CF_NO_CONTACT_RESPONSE\"] = 4] = \"CF_NO_CONTACT_RESPONSE\";\r\n    CollisionFlag[CollisionFlag[\"CF_CUSTOM_MATERIAL_CALLBACK\"] = 8] = \"CF_CUSTOM_MATERIAL_CALLBACK\";\r\n    CollisionFlag[CollisionFlag[\"CF_CHARACTER_OBJECT\"] = 16] = \"CF_CHARACTER_OBJECT\";\r\n    CollisionFlag[CollisionFlag[\"CF_DISABLE_VISUALIZE_OBJECT\"] = 32] = \"CF_DISABLE_VISUALIZE_OBJECT\";\r\n    CollisionFlag[CollisionFlag[\"CF_DISABLE_SPU_COLLISION_PROCESSING\"] = 64] = \"CF_DISABLE_SPU_COLLISION_PROCESSING\";\r\n})(CollisionFlag || (CollisionFlag = {}));\r\n// How filters work: https://github.com/schteppe/cannon.js/blob/master/demos/collisionFilter.html\r\n// How to use in Ammo in Babylon: https://github.com/BabylonJS/Babylon.js/pull/8028\r\nvar CollisionFilterGroup;\r\n(function (CollisionFilterGroup) {\r\n    CollisionFilterGroup[CollisionFilterGroup[\"Environment\"] = 1] = \"Environment\";\r\n    CollisionFilterGroup[CollisionFilterGroup[\"Other\"] = 2] = \"Other\";\r\n})(CollisionFilterGroup || (CollisionFilterGroup = {}));\r\nvar CollisionFilterMask;\r\n(function (CollisionFilterMask) {\r\n    CollisionFilterMask[CollisionFilterMask[\"Environment\"] = 2] = \"Environment\";\r\n    CollisionFilterMask[CollisionFilterMask[\"Other\"] = 3] = \"Other\";\r\n})(CollisionFilterMask || (CollisionFilterMask = {}));\r\n//# sourceMappingURL=physicsHelper.js.map\n\n//# sourceURL=webpack:///./js/physicsHelper.js?");

/***/ }),

/***/ "./js/utils.js":
/*!*********************!*
  !*** ./js/utils.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"now\": () => /* binding */ now,\n/* harmony export */   \"LogLevel\": () => /* binding */ LogLevel,\n/* harmony export */   \"clog\": () => /* binding */ clog,\n/* harmony export */   \"LogCategory\": () => /* binding */ LogCategory,\n/* harmony export */   \"cblog\": () => /* binding */ cblog,\n/* harmony export */   \"randomRange\": () => /* binding */ randomRange\n/* harmony export */ });\nfunction now() {\r\n    return window.performance ? performance.now() : Date.now();\r\n}\r\n// https://www.ibm.com/support/knowledgecenter/en/SSEP7J_10.2.2/com.ibm.swg.ba.cognos.ug_rtm_wb.10.2.2.doc/c_n30e74.html\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\r\n    LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    LogLevel[LogLevel[\"Fatal\"] = 5] = \"Fatal\";\r\n    LogLevel[LogLevel[\"All\"] = 6] = \"All\";\r\n})(LogLevel || (LogLevel = {}));\r\nconst colors = ['#ffffff', '#00ff00', '#00ffff', '#ffff00', '#ff00ff', '#ff0000', '#ffffff'];\r\nconst maxLogLevel = LogLevel.Fatal;\r\nconst throwLogLevel = LogLevel.Error;\r\nfunction clog(message, logLevel, ...extra) {\r\n    if (logLevel > maxLogLevel)\r\n        return;\r\n    console.log(`%c ${message}`, `color: ${colors[logLevel]}`, ...extra);\r\n    if (logLevel >= throwLogLevel)\r\n        throw message;\r\n}\r\n;\r\nvar LogCategory;\r\n(function (LogCategory) {\r\n    LogCategory[LogCategory[\"Main\"] = 0] = \"Main\";\r\n    LogCategory[LogCategory[\"Worker\"] = 1] = \"Worker\";\r\n})(LogCategory || (LogCategory = {}));\r\nconst backgroundColors = ['#660000', '#000066'];\r\nfunction cblog(message, logLevel, logCategory, ...extra) {\r\n    if (logLevel > maxLogLevel)\r\n        return;\r\n    console.log(`%c ${message}`, `color: ${colors[logLevel]}; background: ${backgroundColors[logCategory]}`, ...extra);\r\n    if (logLevel >= throwLogLevel)\r\n        throw message;\r\n}\r\n;\r\nfunction randomRange(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n//# sourceMappingURL=utils.js.map\n\n//# sourceURL=webpack:///./js/utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./js/app.js");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;